<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<div class="card m-3">
  <h5 class="card-header">Add Book</h5>
  <div class="card-body">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmitClick()">
            <div class="form-row">
                <div class="form-group col">
                   
                    <label>Book Name</label>
                    <input type="text" formControlName="bookname" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['bookname'].errors }" name="usrnm" [(ngModel)]="book.bookName"/>
                    <div *ngIf="submitted && f['bookname'].errors" class="invalid-feedback">
                        <div *ngIf="f['bookname'].errors['required']">Book Name is required</div>
                    </div>
                </div>
				</div>
                <div class="form-group col">
                  <label> Category Name </label>
     <!-- #category (change)="onSelected(category.value)" -->
         <select #category  formControlName="bookmaster" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['bookmaster'].errors }" (change)="onSelected(category.value)"  > 
           <option value="0">--Select Category name--</option>  
             <option *ngFor="let Categories of CategoryList" value={{Categories.categoryId}}>                
               {{Categories.categoryName}}  
             </option>
         </select>
      <div *ngIf="submitted && f['bookmaster'].errors" class="invalid-feedback">
                     <div *ngIf="f['bookmaster'].errors['required']"> Please select Category Name</div>
                 </div>
                 </div>
            <div class="form-row">
              <div class="form-group col-5">
                <label>Publisher Name</label>
                <input type="text" formControlName="publishername" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['publishername'].errors }" name="usrname" [(ngModel)]="book.publisher" />
                <div *ngIf="submitted && f['publishername'].errors" class="invalid-feedback">
                    <div *ngIf="f['publishername'].errors['required']">User name is required</div>
                </div>
            </div>

                <div class="form-group col-5">
                <label>Book Content</label>
                <input type="text" formControlName="bookcontent" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['bookcontent'].errors }" name="content" [(ngModel)]="book.content" />
                <div *ngIf="submitted && f['bookcontent'].errors" class="invalid-feedback">
                    <div *ngIf="f['bookcontent'].errors['required']">User name is required</div>
                </div>
                </div>
                <div class="form-group col-5">
                    <label>Published date</label>
                    <input type="date" formControlName="pdate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['pdate'].errors }" name="publishdate" [(ngModel)]="book.publishedDate" />
                    <div *ngIf="submitted && f['pdate'].errors" class="invalid-feedback">
                        <div *ngIf="f['pdate'].errors['required']">publish date required</div>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col">
                    <label>Price</label>
                    <input type="number" formControlName="price" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['price'].errors }" name="psw" [(ngModel)]="book.price" />
                    <div *ngIf="submitted && f['price'].errors" class="invalid-feedback">
                        <div *ngIf="f['price'].errors['required']">Enter price</div>
                    </div>
                </div>
               
            </div>
            <div class="form-group form-check">
                <input type="checkbox" formControlName="acceptTerms" id="acceptTerms" class="form-check-input" [ngClass]="{ 'is-invalid': submitted && f['acceptTerms'].errors }" />
                <label for="acceptTerms" class="form-check-label">Accept Terms & Conditions</label>
                <div *ngIf="submitted && f['acceptTerms'].errors" class="invalid-feedback">Accept Ts & Cs is required</div>
            </div>
            <div class="text-center">
                <button class="btn btn-primary mr-1">Register</button>
                <button class="btn btn-secondary" type="reset" (click)="onReset()">Cancel</button>
            </div>
        </form>
    </div>
</div>

 <!-- User show model Modal -->
 <div class="modal" tabindex="-1" role="dialog"  [ngStyle]="{'display':display}">
    <div class="modal-dialog" role="document">
          <div class="modal-content">
                <div class="modal-header">
                    <div>
                    <p>Congractulations you have succesfully added book<p>
                    </div>
                    <div>
                        <br/>
                      <h4 >Your User Name: {{ signedUser}}</h4>
                    </div>
                      <button type="button" class="close" aria-label="Close" (click)="onCloseHandled()"><span aria-hidden="true">&times;</span></button>
                    </div>
          
        </div>
</div>

